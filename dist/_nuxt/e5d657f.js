(window.webpackJsonp=window.webpackJsonp||[]).push([[4,2,3],{369:function(t,e,n){var content=n(371);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(72).default)("4f6b492f",content,!0,{sourceMap:!1})},370:function(t,e,n){"use strict";n(369)},371:function(t,e,n){var r=n(71)(!1);r.push([t.i,'.el-container[data-v-2b3ea0e2]{background-color:#fff}.el-menu[data-v-2b3ea0e2]{display:flex;border:none}.el-menu-item[data-v-2b3ea0e2]{padding:0!important}.nuxt-link-exact-active[data-v-2b3ea0e2]{color:#000!important;cursor:default;background-color:#fff;position:relative}.nuxt-link-exact-active[data-v-2b3ea0e2]:after{content:"";width:100%;height:2px;background-color:#409eff;bottom:0;position:absolute}.el-link[data-v-2b3ea0e2]{padding:0 20px;position:relative}.el-link[data-v-2b3ea0e2]:hover:after{content:"";width:100%;height:2px;background-color:#409eff;bottom:0;position:absolute}',""]),t.exports=r},372:function(t,e,n){"use strict";n.r(e);var r={},l=(n(370),n(51)),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",[n("el-header",[n("el-menu",[n("el-menu-item",[n("NuxtLink",{staticClass:"el-link el-link--default",attrs:{to:"/"}},[t._v("Главная страница")])],1),n("el-menu-item",[n("NuxtLink",{staticClass:"el-link el-link--default",attrs:{to:"/login"}},[t._v("Авторизация")])],1),n("el-menu-item",[n("NuxtLink",{staticClass:"el-link el-link--default",attrs:{to:"/store"}},[t._v("Магазин")])],1)],1)],1)],1)}),[],!1,null,"2b3ea0e2",null);e.default=component.exports},373:function(t,e,n){var content=n(375);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(72).default)("7b167b58",content,!0,{sourceMap:!1})},374:function(t,e,n){"use strict";n(373)},375:function(t,e,n){var r=n(71)(!1);r.push([t.i,".el-card[data-v-b1ac2008],.el-row[data-v-b1ac2008]{display:flex}.el-card[data-v-b1ac2008]{height:100%;border:none;flex-direction:column}.el-card[data-v-b1ac2008] .el-card__body{padding:20px 0}.is-always-shadow[data-v-b1ac2008]{box-shadow:none!important}.item[data-v-b1ac2008]{height:40px;flex:auto;margin:10px 0;padding:0 20px;display:flex;align-items:flex-start;border-bottom:1px solid #ebeef5}.clearfix[data-v-b1ac2008]{font-weight:700;color:grey}",""]),t.exports=r},378:function(t,e,n){var content=n(390);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(72).default)("5da39304",content,!0,{sourceMap:!1})},379:function(t,e,n){"use strict";n.r(e);n(52);var r={data:function(){return{ctimes:[],events:[],load:!0}},created:function(){var t=this;this.$socket?(this.load=!1,this.$socket.onopen=function(){},this.$socket.onclose=function(){delete t.$socket.onmessage},this.$socket.onmessage=function(e){if(t.ctimes.length<15||t.events.length<15){var n=JSON.parse(e.data);t.ctimes.push(n.ctime),t.events.push(n.event)}else t.$socket.onclose()}):this.load=!0},methods:{DateString:function(t){var e=new Date(1e3*t);return e.toLocaleDateString()+" "+e.toLocaleTimeString().slice(0,5)}}},l=(n(374),n(51)),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.load?n("div",[t._v("Загрузка....")]):n("el-row",[n("el-col",[n("el-card",[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("Дата")])]),t._l(t.ctimes,(function(e){return n("div",{staticClass:"item"},[t._v(t._s(t.DateString(e)))])}))],2)],1),n("el-col",[n("el-card",[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("События")])]),t._l(t.events,(function(e){return n("div",{staticClass:"item"},[t._v(t._s(e))])}))],2)],1)],1)],1)}),[],!1,null,"b1ac2008",null);e.default=component.exports},385:function(t,e,n){"use strict";var r=n(11),l=n(1),o=n(3),c=n(127),d=n(18),f=n(14),v=n(250),m=n(43),h=n(126),x=n(249),_=n(4),w=n(87).f,k=n(33).f,y=n(17).f,C=n(386),N=n(387).trim,I="Number",S=l.Number,E=S.prototype,M=l.TypeError,$=o("".slice),T=o("".charCodeAt),D=function(t){var e=x(t,"number");return"bigint"==typeof e?e:L(e)},L=function(t){var e,n,r,l,o,c,d,code,f=x(t,"number");if(h(f))throw M("Cannot convert a Symbol value to a number");if("string"==typeof f&&f.length>2)if(f=N(f),43===(e=T(f,0))||45===e){if(88===(n=T(f,2))||120===n)return NaN}else if(48===e){switch(T(f,1)){case 66:case 98:r=2,l=49;break;case 79:case 111:r=8,l=55;break;default:return+f}for(c=(o=$(f,2)).length,d=0;d<c;d++)if((code=T(o,d))<48||code>l)return NaN;return parseInt(o,r)}return+f};if(c(I,!S(" 0o1")||!S("0b1")||S("+0x1"))){for(var O,A=function(t){var e=arguments.length<1?0:S(D(t)),n=this;return m(E,n)&&_((function(){C(n)}))?v(Object(e),n,A):e},j=r?w(S):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),F=0;j.length>F;F++)f(S,O=j[F])&&!f(A,O)&&y(A,O,k(S,O));A.prototype=E,E.constructor=A,d(l,I,A)}},386:function(t,e,n){var r=n(3);t.exports=r(1..valueOf)},387:function(t,e,n){var r=n(3),l=n(22),o=n(12),c=n(388),d=r("".replace),f="["+c+"]",v=RegExp("^"+f+f+"*"),m=RegExp(f+f+"*$"),h=function(t){return function(e){var n=o(l(e));return 1&t&&(n=d(n,v,"")),2&t&&(n=d(n,m,"")),n}};t.exports={start:h(1),end:h(2),trim:h(3)}},388:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},389:function(t,e,n){"use strict";n(378)},390:function(t,e,n){var r=n(71)(!1);r.push([t.i,".el-container[data-v-4e987c52]{padding:0 20px}.el-main[data-v-4e987c52]{display:flex;flex-direction:column;padding:0}.el-row[data-v-4e987c52]{display:flex;width:100%}.el-card[data-v-4e987c52]{height:100%;border:none;display:flex;flex-direction:column}.is-always-shadow[data-v-4e987c52]{box-shadow:none}.el-card[data-v-4e987c52] .el-card__body{display:table;height:300px}.clearfix[data-v-4e987c52]{font-weight:700;color:grey}.clearfix[data-v-4e987c52],.item[data-v-4e987c52]{white-space:nowrap;align-items:center}.item[data-v-4e987c52]{height:40px;flex:auto;margin:10px 0;display:flex}.pagination-wrap[data-v-4e987c52]{display:flex;justify-content:center}",""]),t.exports=r},393:function(t,e,n){"use strict";n.r(e);var r=n(9),l=(n(73),n(15),n(128),n(385),n(23),n(52),{data:function(){return{items:[],limit:null,offset:null,total:null,minPage:1,maxPage:null}},fetch:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://test.relabs.ru/api/users/list").then((function(t){return t.json()}));case 2:for(i in t.items=e.sent,t.limit=t.items.limit,t.offset=t.items.offset,t.total=t.items.total,n=new Date,r=[],t.items.items)r.push(t.items.items[i].id);l={ctime:Number(n.valueOf()/1e3),id:Math.max.apply(Math,r)+1,name:t.$store.state.login.name,role:"dd"},t.items.items.push(l),t.maxPage=Math.ceil(t.items.items.length/t.items.limit);case 13:case"end":return e.stop()}}),e)})))()})),methods:{handleCurrentChange:function(t){this.offset=t-1},Delete:function(t){this.$delete(this.items.items,t)},Time:function(t){var e=new Date(1e3*t);return e.toLocaleDateString()+" "+e.toLocaleTimeString().slice(0,5)}},computed:{paginated:function(){var t=this.offset*this.limit,e=t+this.limit;return this.items.items.slice(t,e)}},middleware:function(t){var e=t.store,n=t.redirect;if(!e.state.login.authenticated)return n("/login")}}),o=l,c=(n(389),n(51)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header"),n("el-container",[t.$fetchState.pending?n("p",[t._v("Загрузка...")]):n("el-main",[n("el-row",[n("el-col",{attrs:{span:2}},[n("el-card",[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("ID")])]),t._l(t.paginated,(function(e,r){return n("div",{staticClass:"item"},[n("span",{staticClass:"item-content"},[t._v(t._s(e.id))])])}))],2)],1),n("el-col",{attrs:{xs:4,lg:6,xl:8}},[n("el-card",[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("Имя")])]),t._l(t.paginated,(function(e,r){return n("div",{staticClass:"item"},[n("span",{staticClass:"item-content"},[t._v(t._s(e.name))])])}))],2)],1),n("el-col",{attrs:{xs:4,lg:6,xl:8}},[n("el-card",[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("Роль")])]),t._l(t.paginated,(function(e,r){return n("div",{staticClass:"item"},[n("span",{staticClass:"item-content"},[t._v(t._s(e.role))])])}))],2)],1),n("el-col",{attrs:{span:6}},[n("el-card",[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("Дата создания")])]),t._l(t.paginated,(function(e,r){return n("div",{staticClass:"item"},[n("span",{staticClass:"item-content"},[t._v(t._s(t.Time(e.ctime)))])])}))],2)],1),n("el-col",{attrs:{lg:4,xl:5}},[n("el-card",[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("Действия")])]),t._l(t.paginated,(function(e,r){return n("div",{staticClass:"item"},[n("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.Delete(r)}}},[t._v("Удалить")])],1)}))],2)],1)],1),n("div",{staticClass:"pagination-wrap"},[n("el-pagination",{attrs:{total:10*t.maxPage,layout:"prev, pager, next",background:""},on:{"current-change":t.handleCurrentChange}})],1)],1),n("el-aside",{attrs:{width:"30vw"}},[n("WebSocket")],1)],1)],1)}),[],!1,null,"4e987c52",null);e.default=component.exports;installComponents(component,{Header:n(372).default,WebSocket:n(379).default})}}]);